# План разработки IoT мониторинговой системы

## Этап 1: Настройка проекта и инфраструктуры

### 1.1 Настройка монорепозитория - done!
- [x] Структурирование директорий согласно архитектуре проекта
- [x] Настройка package.json для yarn workspaces
- [x] Настройка ESLint, Prettier, Husky для обеспечения качества кода
- [x] Настройка GitHub Actions для CI/CD

### 1.2 Настройка баз данных
- [ ] Создание MongoDB Atlas кластера для хранения данных устройств
- [ ] Настройка AWS RDS PostgreSQL для пользовательских данных
- [ ] Создание схем и моделей данных для обоих БД
- [ ] Настройка подключений и тестирование доступа

### 1.3 Настройка AWS ресурсов
- [ ] Создание IAM ролей и политик
- [ ] Настройка S3 для хостинга фронтенда
- [ ] Настройка Secrets Manager для хранения секретов
- [ ] Настройка CloudWatch для логирования и мониторинга
- [ ] Подготовка CloudFormation шаблонов для инфраструктуры

## Этап 2: Разработка бэкенда

### 2.1 Базовый Node.js бэкенд
- [ ] Настройка Express.js с основными middleware
- [ ] Реализация аутентификации с JWT
- [ ] Настройка ролевой авторизации (admin, operator, user)
- [ ] Интеграция с AWS RDS PostgreSQL для пользовательских данных
- [ ] Настройка логирования с Winston и Morgan
- [ ] Интеграция с AWS CloudWatch для централизованного логирования

### 2.2 API для управления пользователями и устройствами
- [ ] Разработка CRUD операций для пользователей
- [ ] Разработка CRUD операций для устройств
- [ ] Связывание устройств с пользователями
- [ ] Настройка Swagger/OpenAPI для документации API
- [ ] Написание unit-тестов с Jest

### 2.3 Интеграция с ElastiCache/Redis
- [ ] Настройка подключения к Redis
- [ ] Реализация кеширования для частых запросов
- [ ] Оптимизация производительности API

## Этап 3: Разработка компонентов обработки данных

### 3.1 UDP-симулятор
- [ ] Разработка симулятора IoT-устройств на Node.js
- [ ] Реализация генерации различных типов данных (температура, влажность, освещение)
- [ ] Настройка периодической отправки данных через UDP
- [ ] Добавление симуляции аномалий для тестирования обработки ошибок
- [ ] Реализация приема управляющих команд от системы

### 3.2 UDP-listener
- [ ] Разработка сервиса для приема UDP-пакетов
- [ ] Валидация и обработка входящих данных
- [ ] Интеграция с Kinesis Data Streams
- [ ] Контейнеризация сервиса для ECS/Fargate
- [ ] Настройка логирования и обработки ошибок

### 3.3 AWS Lambda функции (Java)
- [ ] Разработка Data Processor Lambda для обработки данных из Kinesis
- [ ] Реализация алгоритмов обнаружения аномалий
- [ ] Сохранение обработанных данных в MongoDB Atlas
- [ ] Разработка Alerter Lambda для отправки уведомлений через SNS
- [ ] Разработка Error Poller Lambda для мониторинга ошибок
- [ ] Написание unit-тестов для всех Lambda функций

### 3.4 Система управления устройствами
- [ ] Разработка API для отправки команд устройствам
- [ ] Интеграция с SNS для отправки команд через webhooks
- [ ] Реализация логики принятия решений на основе данных устройств
- [ ] Создание механизма подтверждения выполнения команд

## Этап 4: Интеграция и деплой бэкенд-компонентов

### 4.1 Настройка Kinesis Data Streams
- [ ] Создание потоков данных для устройств
- [ ] Настройка шардов и периода хранения
- [ ] Интеграция с Lambda функциями

### 4.2 Деплой бэкенд-сервисов
- [ ] Контейнеризация Node.js бэкенда
- [ ] Настройка ECS/Fargate для запуска контейнеров
- [ ] Настройка ALB для маршрутизации запросов
- [ ] Настройка автомасштабирования

### 4.3 Настройка SNS для уведомлений и управления
- [ ] Создание SNS топиков для различных типов уведомлений
- [ ] Создание SNS топиков для отправки команд устройствам
- [ ] Настройка подписок (email, SMS, HTTP/HTTPS endpoints)
- [ ] Интеграция с Alerter Lambda и системой управления устройствами

### 4.4 Интеграционное тестирование
- [ ] Тестирование потока данных от симулятора до базы данных
- [ ] Тестирование генерации и отправки уведомлений
- [ ] Тестирование отправки команд на симулятор устройств

## Этап 5: Разработка фронтенда

### 5.1 Настройка React проекта
- [ ] Инициализация проекта (Create React App или Vite)
- [ ] Настройка маршрутизации с React Router
- [ ] Настройка управления состоянием с Redux Toolkit
- [ ] Настройка стилей и компонентной библиотеки

### 5.2 Реализация аутентификации и авторизации
- [ ] Создание страницы входа и регистрации
- [ ] Реализация хранения и обновления JWT
- [ ] Настройка защищенных маршрутов в зависимости от роли пользователя

### 5.3 Разработка дашборда
- [ ] Создание компонентов для отображения графиков с Chart.js
- [ ] Реализация таблиц для отображения текущих показателей устройств
- [ ] Создание компонентов для отображения алертов и ошибок
- [ ] Реализация фильтрации и поиска данных

### 5.4 Управление устройствами и пользователями
- [ ] Разработка интерфейса для управления устройствами
- [ ] Создание интерфейса для отправки команд устройствам
- [ ] Создание интерфейса администратора для управления пользователями
- [ ] Реализация настроек и конфигурации устройств

## Этап 6: Деплой и финализация

### 6.1 Деплой фронтенда
- [ ] Сборка React приложения
- [ ] Загрузка статических файлов в S3
- [ ] Настройка S3 Website Hosting с HTTPS

### 6.2 Комплексное тестирование
- [ ] End-to-end тестирование основных функций системы
- [ ] Тестирование с симулятором устройств
- [ ] Исправление обнаруженных ошибок

### 6.3 Документация
- [ ] Завершение Swagger/OpenAPI документации API
- [ ] Создание README с инструкциями по установке и запуску
- [ ] Документация архитектуры системы и компонентов
- [ ] Подготовка руководства пользователя

### 6.4 Подготовка к презентации
- [ ] Создание демонстрационных сценариев
- [ ] Подготовка слайдов для защиты дипломного проекта
- [ ] Запись демонстрационного видео (опционально)

## Дополнительные задачи (при наличии времени)

### Улучшения безопасности
- [ ] Внедрение rate limiting для API
- [ ] Улучшение политик IAM по принципу наименьших привилегий

### Расширение функциональности
- [ ] Добавление панели администратора с метриками системы
- [ ] Реализация экспорта данных в CSV/Excel
- [ ] Добавление настраиваемых уведомлений для пользователей

### Подготовка к интеграции с реальными устройствами
- [ ] Исследование AWS IoT Core
- [ ] Документирование процесса подключения реальных устройств